(function(t){function e(e){for(var n,a,c=e[0],r=e[1],d=e[2],u=0,v=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&v.push(i[a][0]),i[a]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);l&&l(e);while(v.length)v.shift()();return s.push.apply(s,d||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,c=1;c<o.length;c++){var r=o[c];0!==i[r]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},i={app:0},s=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/noteTodo/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var l=r;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0c2e":function(t,e,o){"use strict";var n=o("2991"),i=o.n(n);i.a},"118a":function(t,e,o){},2991:function(t,e,o){},"36f4":function(t,e,o){t.exports=o.p+"img/false.d1b6bd1a.png"},"412a":function(t,e,o){"use strict";var n=o("60b0"),i=o.n(n);i.a},4913:function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},s=[],a=(o("5c0b"),o("2877")),c={},r=Object(a["a"])(c,i,s,!1,null,null,null),d=r.exports,l=o("8c4f"),u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"notes-list"},[o("notes-header"),o("Notes"),o("create-note-button")],1)},v=[],f=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",{staticClass:"header"},[o("h1",[t._v("Список заметок")])])}],p={name:"notes-header"},m=p,h=(o("e41c"),Object(a["a"])(m,f,_,!1,null,"317722cc",null)),b=h.exports,N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"notes"},[0==t.notes.length?o("div",{staticClass:"notes__description"},[o("span",[t._v("В данный момент заметок нет")])]):t._e(),o("div",{staticClass:"notes__list"},t._l(t.notes,(function(t){return o("note-item",{key:t.note_id,attrs:{note:t}})})),1)])},C=[],g=o("5530"),k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"note-item"},[n("div",{staticClass:"note-item__title"},[n("h3",[t._v(t._s(t.note.note_title))])]),n("div",{staticClass:"note-item__todos"},[n("span",[t._v("Список задач:")]),t._l(t.note.note_todos,(function(e,i){return n("div",{key:e.todo_id,staticClass:"todo"},[n("span",[t._v(t._s(i+1)+")")]),n("span",[t._v(t._s(e.todo_title))]),!0===e.done?n("img",{attrs:{src:o("722d")}}):n("img",{attrs:{src:o("36f4")}})])}))],2),n("div",{staticClass:"note-item__actions"},[n("button",{staticClass:"delete-note",on:{click:function(e){t.activeDeleteNoteModal=!0}}},[t._v("Удалить")]),n("router-link",{attrs:{to:"/createNote"}},[n("button",{staticClass:"edit-note",on:{click:t.setAction}},[t._v("Редактировать")])])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.activeDeleteNoteModal,expression:"activeDeleteNoteModal===true"}],staticClass:"delete-note__modal"},[t._m(0),n("div",{staticClass:"delete-note__modal-buttons"},[n("button",{staticClass:"not-delete",on:{click:function(e){t.activeDeleteNoteModal=!1}}},[t._v("Нет")]),n("button",{staticClass:"delete",on:{click:t.deleteNote}},[t._v("Да")])])])])},A=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"delete-note__modal-title"},[o("span",[t._v("Удалить заметку?")])])}],E=o("2f62"),x={name:"note-item",props:{note:Object},data:function(){return{activeDeleteNoteModal:!1}},methods:{deleteNote:function(){for(var t in this.notes){var e=this.notes[t];if(e.note_id==this.note.note_id){this.$store.dispatch("deleteNoteAction",t);break}}this.activeDeleteNoteModal=!1},setAction:function(){this.$store.dispatch("setNoteAction","edit"),this.$store.dispatch("setEditNoteAction",this.note)}},computed:Object(g["a"])({},Object(E["b"])({notes:"notesList"}))},y=x,O=(o("73d3"),Object(a["a"])(y,k,A,!1,null,"e628e31a",null)),j=O.exports,$={name:"notes",components:{NoteItem:j},computed:Object(g["a"])({},Object(E["b"])({notes:"notesList"}))},w=$,M=(o("412a"),Object(a["a"])(w,N,C,!1,null,"cf175a38",null)),T=M.exports,L=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("router-link",{attrs:{to:"/createNote"}},[o("div",{staticClass:"note-create__button",on:{click:t.setAction}},[o("span",[t._v("+")]),o("br"),o("span",[t._v("Добавить новую заметку")])])])},P=[],D={name:"create-note-button",methods:{setAction:function(){this.$store.dispatch("setNoteAction","create")}}},S=D,q=(o("df66"),Object(a["a"])(S,L,P,!1,null,"0f94ae5d",null)),R=q.exports,F={name:"notes-list",components:{NotesHeader:b,Notes:T,CreateNoteButton:R}},H=F,J=Object(a["a"])(H,u,v,!1,null,null,null),B=J.exports,I=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"note-creation"},[o("note-action-header"),o("note-action")],1)},z=[],G=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",{staticClass:"header"},["create"===t.action?o("h1",[t._v("Создание новой заметки")]):o("h1",[t._v("Редактирование заметки")])])},K=[],Q={name:"note-action-header",computed:Object(g["a"])({},Object(E["b"])({action:"noteAction"}))},U=Q,V=(o("9a1a"),Object(a["a"])(U,G,K,!1,null,"7bcbee90",null)),W=V.exports,X=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"note-action"},["create"===t.action?o("creation-form"):o("edit-form")],1)},Y=[],Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"creation-form"},[n("form",{on:{submit:function(e){e.preventDefault(),t.activeAddNoteModal=!0}}},[n("label",{attrs:{for:"note-title"}},[t._v("Название заметки:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.noteTitle,expression:"noteTitle"}],attrs:{type:"text",id:"note-title",placeholder:"Введите название заметки...",required:""},domProps:{value:t.noteTitle},on:{input:function(e){e.target.composing||(t.noteTitle=e.target.value)}}}),n("div",{staticClass:"todo-list"},[n("span",[t._v("Список задач:")]),t._l(t.todoList,(function(e,i){return n("div",{key:e.todo_id,staticClass:"todo-list__item"},[n("span",[t._v(t._s(i+1)+".")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.todo_title,expression:"todo.todo_title"}],attrs:{type:"text",required:""},domProps:{value:e.todo_title},on:{input:function(o){o.target.composing||t.$set(e,"todo_title",o.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.done,expression:"todo.done"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.done)?t._i(e.done,null)>-1:e.done},on:{change:function(o){var n=e.done,i=o.target,s=!!i.checked;if(Array.isArray(n)){var a=null,c=t._i(n,a);i.checked?c<0&&t.$set(e,"done",n.concat([a])):c>-1&&t.$set(e,"done",n.slice(0,c).concat(n.slice(c+1)))}else t.$set(e,"done",s)}}}),n("img",{attrs:{src:o("fbc1")},on:{click:t.addTodo}}),i>0?n("img",{attrs:{src:o("b32a")},on:{click:function(e){return t.deleteTodo(i)}}}):t._e()])}))],2),n("div",{staticClass:"form-buttons"},[n("router-link",{attrs:{to:"/"}},[n("button",{staticClass:"cancel"},[t._v("Отмена")])]),n("button",{staticClass:"submit",attrs:{type:"submit"}},[t._v("Создать заметку")])],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.activeAddNoteModal,expression:"activeAddNoteModal===true"}],staticClass:"add-note__modal"},[t._m(0),n("div",{staticClass:"add-note__modal-buttons"},[n("button",{staticClass:"not-create",on:{click:function(e){t.activeAddNoteModal=!1}}},[t._v("Нет")]),n("router-link",{attrs:{to:"/"}},[n("button",{staticClass:"create",on:{click:t.addNote}},[t._v("Да")])])],1)])])},tt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"add-note__modal-title"},[o("span",[t._v("Создать заметку?")])])}],et=(o("a434"),{name:"creation-form",data:function(){return{noteTitle:"",todoList:[{todo_id:1,todo_title:"",done:!1}],activeAddNoteModal:!1}},methods:{addTodo:function(){var t=this.todoList[this.todoList.length-1].todo_id+1;this.todoList.push({todo_id:t,todo_title:"",done:!1})},deleteTodo:function(t){this.todoList.splice(t,1)},addNote:function(){var t=1;this.notes.length>0&&(t=this.notes[this.notes.length-1].note_id+1);var e={note_id:t,note_title:this.noteTitle,note_todos:this.todoList};this.$store.dispatch("addNoteAction",e)}},computed:Object(g["a"])({},Object(E["b"])({notes:"notesList"}))}),ot=et,nt=Object(a["a"])(ot,Z,tt,!1,null,null,null),it=nt.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit-form"},[n("form",{on:{submit:function(t){t.preventDefault()}}},[n("label",{attrs:{for:"note-title"}},[t._v("Название заметки:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editNote.note_title,expression:"editNote.note_title"}],attrs:{type:"text",id:"note-title",placeholder:"Введите название заметки...",required:""},domProps:{value:t.editNote.note_title},on:{input:function(e){e.target.composing||t.$set(t.editNote,"note_title",e.target.value)}}}),n("div",{staticClass:"todo-list"},[n("span",[t._v("Список задач:")]),t._l(t.editNote.note_todos,(function(e,i){return n("div",{key:e.todo_id,staticClass:"todo-list__item"},[n("span",[t._v(t._s(i+1)+".")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.todo_title,expression:"todo.todo_title"}],attrs:{type:"text",required:""},domProps:{value:e.todo_title},on:{input:function(o){o.target.composing||t.$set(e,"todo_title",o.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.done,expression:"todo.done"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.done)?t._i(e.done,null)>-1:e.done},on:{change:function(o){var n=e.done,i=o.target,s=!!i.checked;if(Array.isArray(n)){var a=null,c=t._i(n,a);i.checked?c<0&&t.$set(e,"done",n.concat([a])):c>-1&&t.$set(e,"done",n.slice(0,c).concat(n.slice(c+1)))}else t.$set(e,"done",s)}}}),n("img",{attrs:{src:o("fbc1")},on:{click:t.addTodo}}),t.editNote.note_todos.length>1?n("img",{attrs:{src:o("b32a")},on:{click:function(e){return t.deleteTodo(i)}}}):t._e()])}))],2),n("div",{staticClass:"form-buttons"},[n("button",{staticClass:"cancel",on:{click:function(e){t.activeCancelEditModal=!0}}},[t._v("Отмена редактирования")]),n("button",{staticClass:"submit",attrs:{type:"submit"},on:{click:t.openActiveEditNoteModal}},[t._v("Сохранить изменения")]),!0===t.changed?n("button",{staticClass:"undo",on:{click:t.undoRedoEdit}},[t._v("Отменить изменение")]):t._e(),!0===t.changed?n("button",{staticClass:"redo",on:{click:t.undoRedoEdit}},[t._v("Повторить изменение")]):t._e()])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.activeEditNoteModal,expression:"activeEditNoteModal===true"}],staticClass:"edit-note__modal"},[t._m(0),n("div",{staticClass:"edit-note__modal-buttons"},[n("button",{staticClass:"not-edit",on:{click:function(e){t.activeEditNoteModal=!1}}},[t._v("Нет")]),n("button",{staticClass:"edit",on:{click:t.saveChanges}},[t._v("Да")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.activeCancelEditModal,expression:"activeCancelEditModal===true"}],staticClass:"edit-cancel__modal"},[t._m(1),n("div",{staticClass:"edit-cancel__modal-buttons"},[n("button",{staticClass:"not-cancel-edit",on:{click:function(e){t.activeCancelEditModal=!1}}},[t._v("Нет")]),n("router-link",{attrs:{to:"/"}},[n("button",{staticClass:"cancel-edit"},[t._v("Да")])])],1)])])},at=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"edit-note__modal-title"},[o("span",[t._v("Сохранить изменения?")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"edit-cancel__modal-title"},[o("span",[t._v("Отменить редактирование?")])])}],ct=o("2ef0"),rt=o.n(ct),dt={name:"edit-form",data:function(){return{activeEditNoteModal:!1,activeCancelEditModal:!1,changed:!1,prevNote:{},bufferNote:{}}},mounted:function(){this.prevNote=rt.a.cloneDeep(this.editNote),console.log(this.prevNote)},methods:{openActiveEditNoteModal:function(){var t=!0;for(var e in""===this.editNote.note_title&&(t=!1),this.editNote.note_todos){var o=this.editNote.note_todos[e];if(""===o.todo_title){t=!1;break}}!0===t&&(this.activeEditNoteModal=!0)},addTodo:function(){var t=this.editNote.note_todos[this.editNote.note_todos.length-1].todo_id+1;this.editNote.note_todos.push({todo_id:t,todo_title:"",done:!1})},deleteTodo:function(t){this.editNote.note_todos.splice(t,1)},saveChanges:function(){for(var t in this.notes){var e=this.notes[t];if(e.note_id===this.editNote.note_id){this.$set(this.notes,t,this.editNote);break}}this.changed=!0,this.activeEditNoteModal=!1,console.log(this.prevNote)},undoRedoEdit:function(){this.bufferNote=rt.a.cloneDeep(this.editNote),this.$store.dispatch("setEditNoteAction",this.prevNote),this.prevNote=rt.a.cloneDeep(this.bufferNote)}},computed:Object(g["a"])({},Object(E["b"])({notes:"notesList",editNote:"editNote"}))},lt=dt,ut=(o("0c2e"),Object(a["a"])(lt,st,at,!1,null,"18915d72",null)),vt=ut.exports,ft={name:"note-action",components:{CreationForm:it,EditForm:vt},computed:Object(g["a"])({},Object(E["b"])({action:"noteAction"}))},_t=ft,pt=(o("5b68"),Object(a["a"])(_t,X,Y,!1,null,null,null)),mt=pt.exports,ht={name:"note-creation",components:{NoteActionHeader:W,NoteAction:mt}},bt=ht,Nt=Object(a["a"])(bt,I,z,!1,null,null,null),Ct=Nt.exports;n["a"].use(l["a"]);var gt=[{path:"/",name:"Notes list",component:B},{path:"/createNote",name:"Note creation",component:Ct}],kt=new l["a"]({routes:gt}),At=kt,Et=o("0e44");n["a"].use(E["a"]);var xt=new E["a"].Store({state:{notesList:[],noteAction:"create",editNote:{}},mutations:{addNote:function(t,e){t.notesList.push(e)},deleteNote:function(t,e){t.notesList.splice(e,1)},setAction:function(t,e){t.noteAction=e},setEditNote:function(t,e){t.editNote=rt.a.cloneDeep(e)}},actions:{addNoteAction:function(t,e){var o=t.commit;o("addNote",e)},deleteNoteAction:function(t,e){var o=t.commit;o("deleteNote",e)},setNoteAction:function(t,e){var o=t.commit;o("setAction",e)},setEditNoteAction:function(t,e){var o=t.commit;o("setEditNote",e)}},getters:{notesList:function(t){return t.notesList},noteAction:function(t){return t.noteAction},editNote:function(t){return t.editNote}},plugins:[Object(Et["a"])()]});o("60f9");n["a"].config.productionTip=!1,new n["a"]({router:At,store:xt,render:function(t){return t(d)}}).$mount("#app")},"5b68":function(t,e,o){"use strict";var n=o("118a"),i=o.n(n);i.a},"5c0b":function(t,e,o){"use strict";var n=o("9c0c"),i=o.n(n);i.a},"60b0":function(t,e,o){},"60f9":function(t,e,o){},"722d":function(t,e,o){t.exports=o.p+"img/check.b06d686c.png"},"73d3":function(t,e,o){"use strict";var n=o("dc6d"),i=o.n(n);i.a},"924e":function(t,e,o){},"9a1a":function(t,e,o){"use strict";var n=o("4913"),i=o.n(n);i.a},"9c0c":function(t,e,o){},b32a:function(t,e,o){t.exports=o.p+"img/delete.6265b49f.png"},dc6d:function(t,e,o){},df66:function(t,e,o){"use strict";var n=o("f386"),i=o.n(n);i.a},e41c:function(t,e,o){"use strict";var n=o("924e"),i=o.n(n);i.a},f386:function(t,e,o){},fbc1:function(t,e,o){t.exports=o.p+"img/add.76ef8e4c.png"}});
//# sourceMappingURL=app.a6495afa.js.map